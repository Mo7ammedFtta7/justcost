<div class="main-title main-title2">
    <small><a href="#">{{'Home' | translate }}</a> <i class="fas fa-chevron-right"></i> <a
            href="#">{{'Categories' | translate }} </a> <i class="fas fa-chevron-right"></i> {{category}}</small>
</div><!-- End Title -->

<div class="catogery">
    <div class="row">
        <div class="col-xl-3 col-sm-12">
            <div class="custom text-center">{{'Custom Search' | translate }}</div>
            <div class="panel" style="padding-bottom: 130px;">
                <input type="search" ngModel #searcF (keyup)="onKey(searcF.value)" class="form-control search2" placeholder="{{'Search Title/Keyword' | translate }}">
                <!-- <i class="fas fa-search search-icon2"></i> -->
                <form action="" #filterForm="ngForm" (ngSubmit)="filter(filterForm)">
                    <div class="brand" *ngIf="Brands?.length >0">
                        <h6>brand</h6>
                        <ul class="list-unstyled check-ul">
                            <li *ngFor="let Brand of Brands">
                                <input type="checkbox" class="box" name="name{{Brand.id}}" id="brand{{Brand.id}}">
                                <label for="brand{{Brand.id}}">{{Brand.name}} </label>
                            </li>
                        </ul>
                    </div><!-- Brand -->
                    <div id="attrips">
                        <div class="brand">
                            <h6>{{ 'Brands' | translate }}</h6>
                            <ul class="list-unstyled check-ul">
                                <li *ngFor="let brand of brands">
                                    <input type="radio" name="brand" [value]="brand" (change)="filterByBrand($event.target.value)">
                                    <label  >{{brand}} </label>
                                </li>

                            </ul>
                        </div>
                        <div class="brand" *ngIf="attributes?.length">
                          <h6>{{ 'Attributes' | translate }}</h6>
                          <ul class="list-unstyled check-ul">
                            <li *ngFor="let atr of attributes">
                              <input type="checkbox" name="attr" [value]="atr" (change)="filterByAttributes($event.target.value)">
                              <label  >{{atr}} </label>
                            </li>

                          </ul>

                        </div>
                    </div>
                    <!-- <button type="button" (click)="isAllSelected()">ssssssssssss</button> -->
                </form>
            </div><!-- End Panel-->
        </div><!-- Col #1-->

        <div class="col-xl-9 col-sm-12">
            <div class="save-search">
                <h6>{{ 'Found results' | translate }}</h6>
                <div class="panel row">
                    <div class="col-xl-6 col-sm-12">
                        <div class="row">
                            <span class="col-xl-3  col-sm-12 sort"
                                style="margin-top:7px; text-transform: none">{{'Sort by' | translate }}</span>
                            <select class="form-control col-xl-9 col-sm-12">
                                <option selected>Top Rated</option>
                                <option value="1">One</option>
                                <option value="2">Two</option>
                                <option value="3">Three</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-xl-6 col-sm-12">
                      <div class=" text-right">
                      </div>
                    </div>
                </div>



<div *ngIf="products?.length==0" class="text-center">
    <img class="mt-3 ml-5" src="assets/images/empty.png" alt="">
    <p> {{"empty" | translate}}</p>
</div>


            <div *ngFor="let product of filterProducts | paginate: { itemsPerPage: itemsPerPage, currentPage: p } | filter: filterBrand "  class="item row">

                    <div class="photo text-center col-sm-3">
                        <img appImage src="{{item?.media[0].url}}"  alt="Image" class="img-fluid">
                    
                    </div>
                    <div class="about-photo  col-sm-9">
                        <div class="post-title">
                            <div>
                                <h6> <a routerLink="/product/{{product?.productId}}">{{product?.title}}</a> </h6>
                                <small>{{product.postedOn | date }} </small>
                            </div>
                            <div>
                                <span class="alert-yellow"> {{math(product.reg_price,product.sale_price)}}%
                                    {{ 'off' | translate }} </span>
                                <span class="red">AED {{product.sale_price}} </span>
                            </div>
                        </div>
                        <div class="post-details">
                            <div>
                                <small style="margin-right: 0;">{{ 'Home' | translate }} <i
                                        class="fas fa-chevron-right fa-sm"></i> {{ 'Categories' | translate }} <i
                                        class="fas fa-chevron-right fa-sm"></i> {{product.category}} </small><br>
                                <!-- <small>Usage: 6 - 8 Month</small>
                                <small>Status: Very Good</small> -->
                                <bar-rating  name="rating" [rate]="product?.ratings" [max]="5" [readOnly]="true"></bar-rating>
                                <!-- <span class="star">3/5
                                    <i class="far fa-star"></i>
                                    <i class="far fa-star"></i>
                                    <i class="far fa-star"></i>
                                    <i class="far fa-star"></i>
                                </span> -->
                            </div>
                            <div>
                                <a href="#" class="button2"><i class="fas fa-phone"></i> +971501111112</a>
                                <a href="javascript:;"  (click)="getInfoMap(product)" class="button2"  data-toggle="modal" data-target="#locationMap">
                                  <i class="fas fa-map-marker-alt"></i> View Location
                                </a>
                                <div class="text-right grey">
                                    <a  (click)="like(product.productId)" href="javascript:;" class="button2"><i [appLike]="product.productId" class="far fa-heart"></i></a>
                                </div>
                            </div>
                        </div>


                        <div class="clearfix"></div>
                    </div>
                </div>


                <div class="paginaion text-center">
                    <pagination-controls class="my-pagination" (pageChange)="p = $event"></pagination-controls>
                </div>

            </div><!-- End Save Saerch-->
        </div><!-- Col#2 -->
    </div><!-- End Row -->
</div>


<!---------------------------------------------------------------------------------------------------------------------        -->
<div class="modal fade" id="locationMap" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" *ngIf="product">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">location {{ product?.customerName}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <agm-map style="height:500px"  [latitude]="lat" [longitude]="lng">
          <agm-marker [latitude]="lat" [longitude]="lng" [label]="product.customerName">
            <agm-info-window>
              <strong>company name : {{ product.customerName}}</strong>
              <p> address : {{ product?.city}}</p>
              <p>phone: {{product?.mobile}} </p>
            </agm-info-window>
          </agm-marker>
        </agm-map>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!---------------------------------------------------------------------------------------------------------------------        -->
